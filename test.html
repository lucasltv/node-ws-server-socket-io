<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testing HTML</title>
    <script src="https://cdn.jsdelivr.net/npm/socket.io-client@2/dist/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
</head>

<body>

    <h2 id="title">Title to be altered...</h2>

    <div>
        <input id="input" placeholder="Text to send..." />
    </div>
    <h3 id="status">OFFLINE!</h3>
    <script>
        $(function () {
            var socket = io.connect("http://localhost:3000");
            $("#input").keyup(e => {
                const { target } = e;
                const { value } = target;
                socket.emit('ESP_CONNECTED', value);
            });

            socket.on('connect', () => $("#status").html(`ONLINE!`));
            socket.on('disconnect', () => $("#status").html(`OFFLINE!`));

            socket.on("WS_RESPONSE", data => {
                console.log(`LOG: data`, data);
                $("#title").html(`Response from WS: ${data}`);
            });
        });
    </script>
</body>

</html>